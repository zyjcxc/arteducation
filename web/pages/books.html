<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="utf-8">
    <title>全国特长生认证委员会</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="全国特长生认证委员会">
    <meta name="keywords" content="全国特长生认证委员会">
	<script type="text/javascript" src="../utils/jquery-3.3.1.min.js"></script>
	<link rel="stylesheet" href="../css/style.css">


</head>

<body>

<div class="page-list">
   <!------------ 注释：顶部 start ----------->
	<div id="header-page"></div>
	<!------------ 注释：顶部 end ----------->
	<!------------ 注释：面包屑 start ----------->
	<div id="breadcrumb-page"></div>


	<div class="contain books">
		<!------------ 注释：插入 menu start ----------->
		<div id="menu_list"></div>
		<!------------ 注释：插入 menu end ----------->
		<div class="content">
			 <h2 class="visible-md-block visible-lg-block visible-sm-block">使用教材</h2>
			 <ul class="item-list">


			 </ul>
		</div>

	</div>

    <!------------ 注释：底部 start ----------->
	<div id="footer-page"></div>
	<!------------ 注释：底部 start ----------->

</div>

<!--ajax封装-->
<script type="text/javascript" src="../js/extend.js"></script>
<!--通用：包括config，公共头底页面，面包屑及目录-->
<script type="text/javascript" src="../js/common.js"></script>
<script type="text/javascript">
    var page_num = 1;
    var page_size = 10;
    function getList(num) {
        $.EXTEND.GET('artTextbook',{offset:( num - 1 )*page_size})
            .then(function (res) {
                var str1 = '';
                $.each(res.data, function(i, item) {
                    str1 +=
                        '<li>' +
							'<a href="../pages/detail/book_detail.html?id=' +item.id+ '">' +
								'<img src="' +item.picUrl+ '" alt="" />' +
								'<p>' +item.title+ '</p>' +
							'</a>' +
						'</li>';
                });
                $(".item-list").html(str1);
                page(Math.ceil(res.recordsTotal / page_size));
            });
    }
    function page(total) {
        $("#pagination").pagination({
            currentPage: page_num,
            totalPage: total,
            isShow: true,
            homePageText: "首页",
            endPageText: "尾页",
            prevPageText: "上一页",
            nextPageText: "下一页",
            callback: function(current) {
                $("#current3").text(current);
                page_num = current;
                getList(current)
            }
        });
    }

    function init() {
        getList(page_num);
    }
    init()
</script>

</body>

</html>